<div class="comment">
  <div class="row comment-row">
    <div class="col-xs-12">
      <i class="fa fa-user-circle-o fa-lg fa-fw" aria-hidden="true"></i>
      <span class="comment-author">
        <%= comment.user.username %>
      </span>
      <span class="grey-text">
        <%= comment.created_at.strftime('%H:%M') %>
      </span>
      <span class="comment-body">
        <%= comment.body %>
      </span>
    </div>


    <div class="row">
      <div class="col-xs-12">
        <div class="reply-link reply-to-a-comment">
          Reply
        </div>
        <div class="row new-reply-form hidden">
          <div class="col-md-12">
            <% if current_user.nil? %>
              <div class="" data-toggle="modal" data-target="#loginModal">
                <div class="row">
                  <div class="col-xs-1">
                    <i class="fa fa-comment" aria-hidden="true"></i>
                  </div>
                  <div class="col-xs-11">
                    <%= text_area_tag :body, nil, placeholder: "Write a comment...", class: 'form-control comments-input pull-left' %>
                  </div>
                </div>
              </div>
            <% else %>
              <%= form_for [comment, Comment.new] do |f| %>
                <%= f.text_area :body, placeholder: "Add a Reply...", class: 'form-control comments-input' %>
                <%= f.submit "Reply", class: 'hidden' %>
              <% end %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="form-and-replies with-less-margin-top">
    <% if comment.comments_count.positive? %>
      <div class="row with-less-margin-top link-to-show-replies">
        <div class="col-md-12">
          <span class="show-comment-replies reply-link">
            <i class="fa fa-long-arrow-right fa-fw" aria-hidden="true"></i>
            <%= pluralize(comment.comments_count, 'reply') %>
          </span>
        </div>
      </div>
    <% end %>
    <div class="row replies-row hidden">
      <div class="col-xs-12">
        <%= render partial: 'comments/comment', collection: comment.comments %>
      </div>
    </div>
  </div>

</div>
